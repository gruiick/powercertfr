LA COMMANDE PING

		ATTENTION CHANGER GOOGLE.COM PAR UN AUTRE NOM DE DOMAINE POUR EXEMPLE

	La commande ping correspond à l'une des commandes les plus utilisées pour diagnostiquer des problèmes de réseau comme la connectivité d'un appareil. Vous pouvez donc vous servir de cette commande pour vérifier si vous êtes connecté à un réseau local, ou encore si vous êtes connectés à internet. Il est également possible de tester le fonctionnement de la carte réseau d'une machine, ou encore les problèmes associés au DNS comme la résolution de noms de domaine. Essayons donc dans le cas de figure suivant de ping l'adresse IP d'un hôte ; Celui ci pourrait être n'importe quel appareil réseau, comme un ordinateur, un serveur, un routeur ou même une imprimante, qu'ils soient dans votre réseau local ou sur internet. Dans le cadre de notre exemple, nous réaliserons un ping sur un serveur de notre réseau local. Pour ce faire, il suffit d'ouvrir un terminal et d'exécuter la commande ping suivie de l'adresse IP du serveur vers laquelle envoyer la requête. Dès lors, dans le cadre d'une exécution d'un ping sous Windows, la commande ping enverra 4 paquets de données vers l'adresse IP en question puis l'ordinateur devra attendre une réponse. En deuxième temps le serveur renverra à l'expéditeur les paquets de données en tant que réponse et celles-ci sont désignées comme des "écho reply requests", ou une demande de réponse écho, et vont nous apporter des informations quant à ce qu'il s'est produit lorsque le serveur a été ping. De ce fait, si l'on reçoit une réponse, c'est bon signe puisque cela signifie qu'il y a bien une connectivité entre l'ordinateur et le serveur, que celui-ci se trouve sur internet ou en réseau local.
	En revanche, si l'on ping le même serveur et que cette fois-ci nous ne recevons pas de réponse, cela veut pouvoir dire qu'il y a pas de connexion entre la machine et le serveur. Ce problème peut survenir pour diverses raisons : a titre d'exemple, si l'on execute la même commande et que l'on reçoit en réponse "request timed out", cela peut signifier que le serveur est éteint ou qu'il fonctionne correctement mais qu'il utilise un firewall bloquant les requêtes de type ping.
	Mais que se passe-t-il lorsque vous essayez de ping un hôte mais que tous les paquets de donnés ne sont pas tous renvoyés en retour? En effectuant un ping sur une machine, votre ordinateur va envoyer, comme précisé précédemment, 4 paquets de données. Toutefois, vous pourriez dans certains cas ne recevoir qu'1, 2 ou 3 paquets au lieu des 4 originellement envoyés : c'est ce que l'on qualifie de packet loss, ou perte de paquets et peut survenir dans divers cas de figure. Le problème peut être lié à une congestion du réseau. En effet, s'il y a beaucoup de trafic sur un réseau qu'il ne peut pas gérer le trafic supplémentaire causé par le ping, alors les paquets de donnée seront abandonnés. Cela peut également se produire en cas de matériel dysfonctionnel comme des mauvais câbles ou un câblage de mauvaise qualité, mais également à cause d'une mauvaise carte réseau, de mauvaise connexions ou d'un mauvais modem. 
	Dans un autre cas de figure, si nous voulions ping un serveur contrôlé à distance qui se trouve sur internet et que nous obtenons en réponse le message d'erreur "Destination host Unreachable", pour "hôte de destination injoignable", cela peut signifier que le routeur n'a aucune information sur comment faire parvenir les données à destination. Cela pourrait également vouloir dire que le serveur de destination est down ou débranché, ou bien que l'ordinateur émetteur des paquets n'est tout simplement pas connecté au réseau.

	Dans un scénario classique, on suppose que quelqu'un nous informe qu'il n'a pas de connexion internet parce qu'il ne parvient à accéder à aucun site web sur leur ordinateur. Le première chose à vérifier, avant même de vérifier le modem, le routeur ou les câbles, il suffit d'exécuter une commande de ping du type ping google.com. Notez alors que l'on ping ici le nom de domaine de google.com et non l'adresse IP associée, puisqu'en procédant de la sorte, on se donne la possibilité de vérifier qu'il n'y a pas de problème au niveau du DNS et de la résolution de noms de domaine. Si la réponse du serveur de google.com est positive, alors nous avons désormais la confirmation que l'ordinateur est bien connecté au réseau. Par cette vérification, on peut conformer que les câbles, la carte réseau de l'ordinateur, le modem et le routeur sous tous mis hors de cause, y compris le fournisseur internet. De ce fait, dans ce cas de figure nous pouvons en déduire qu'il s'agit d'un problème software et non hardware. Ainsi, il s'agit probablement d'un problème de navigateur ou de firewall. En réalisant la commande ping en premier, cela permet de gagner de temps et d'éviter la pénibilité de vérifier des LED sur des appareils, ou tout ce qui concerne la couche physique du modèle OSI, donc les câbles et le matériel. Le seul cas de figure pour lequel il pourrait être intéressant de vérifier que le hardware n'est pas le fautif est si la réponse de l'exécution d'un ping est négative. Cependant, avant même de vérifier le matériel, il peut être intéressant de vérifier que l'interface réseau est bien fonctionnelle en réalisant un test de loopback. Celui-ci consiste à envoyer des signaux à son propre ordinateur à des fins de test. Pour ce faire, il suffit dans un terminal d'exécuter la commande ping 127.0.0.1 ou ping localhost.

	La commande ping peut également être employée pour des problèmes liés aux résolutions ou attribution de noms de domaine par le DNS. Si vous n'êtes pas familier avec cette notion, elle a été présentée <PAGE>, mais en résumé, le DNS traduit des adresses IP en nom de domaine et inversement. Comme précisé dans l'exemple précédent, nous avions exécuté la commande ping avec le nom de domaine google.com et l'output de la commande avait bien été positif. Le fait que l'exécution ait été réussie avec succès permet de prouver que l'ensemble matériel fonctionne correctement, en plus de s'assurer qu'il en est de même pour le DNS. En effet, si ping google.com fonctionne, cela signifie que le DNS a bien réussi à résoudre l'adresse IP pour le site en question. En revanche, si l'on exécute la même commande et que l'on reçoit en output le message "ping request could not find google.com. Please check the name and try again", cela pourrait être un signe d'un problème de DNS, ou tout simplement que le nom de domaine a mal été orthographié.
	Pour compléter son diagnostic, il pourrait être intéressant de réaliser une commande de ping sur, cette fois-ci, l'adresse IP du site directement. Etant donné qu'il n'est pas évident de se souvenir des adresses IP, vous pouvez simplement retenir l'adresse IP de google.com qui est 8.8.8.8. Si vous réalisez un ping sur cette adresse-ci et que cela fonctionne, vous êtes donc presque quasiment assuré qu'il s'agit bien d'un problème de DNS. Pour y remédier, vous pouvez exécuter la commande ipconfig /flushdns pour vider le cache du DNS, dans le cas où le nom de domaine serait associé à la mauvaise adresse IP, ou bien consulter les paramètres de DNS. Si aucune des deux solutions ne fonctionne, le problème pourrait alors venir du serveur DNS directement ou de votre IPS, ou Internet Service Provider, c'est-à-dire votre fournisseur internet.
	Il pourrait être également intéressant que vous sachiez que la commande ping peut être associée à d'autres sous-commandes, aussi appelées les switches, et qui permettent de modifier le comportement de la commande en fonction de ses besoin. Si vous souhaitez en savoir plus sur les switches à disposition, vous pouvez dans un terminal sous Windows exécuter la commande ping /?.