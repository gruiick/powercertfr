QU'EST CE QUE LE DHCP?

	Tout ordinateur ou appareil sur un réseau internet doit posséder une adresse IP pour communiquer. Une adresse IP est un identificateur pour un ordinateur ou un appareil sur un réseau et il existe deux manières de leur en attribuer une. Cela pourrait se faire soit en utilisant une adresse IP statique ou bien en utilisant une adresse IP dynamique.
	On parle d'adresse IP statique lorsqu'un utilisateur attribue manuellement une adresse IP à un ordinateur ou un appareil de manière générale. Cette méthode était celle originellement employée aux commencement du déploiement du réseau internet. Ainsi, pour chaque machine connectée au réseau, il fallait ouvrir la page de configuration réseau de celui et taper manuellement une adresse IP. Mais en plus de l'adresse IP, il fallait également entrer manuellement le masque de sous-réseau, la passerelle par défaut (Default Gateway) et le serveur DNS. A chaque fois que vous vouliez ajouter un autre appareil au réseau, il fallait faire de même. Toutes ces manipulations manuelles qui représentent un grosse quantité de travail posent donc un problème, surtout lorsqu'un administrateur s'occupe de la gestion d'un réseau large avec un grand nombre de machines connectées. En plus de toute les attributions manuelles, il fallait spécifiquement veiller à ce que chaque adresse soit unique ; En effet, si l'on venait à attribuer la même adresse IP deux fois, cela causerait un conflit d'IP et empêcherait ces deux appareils de se connecter au réseau.
	Toutefois, il existe une méthode plus simple pour attribuer à un ordinateur une adresse IP, et celle-ci  porte le nom d'IP dynamique. Une adresse IP dynamique décrit lorsqu'un appareil reçoit automatiquement une adresse IP de la part d'un serveur DHCP, pour Dynamic Host Configuration Protocol. Celui-ci a pour rôle d'attribuer à un ordinateur une adresse IP, mais peut aussi lui allouer un masque de sous-réseau, une passerelle par défaut et un serveur DNS. Pour illustrer ce principe, prenons la fenêtre suivante indiquant les propriétés de connexion réseau d'une carte réseau sur un ordinateur sous Windows 
			<IMG>
Comme vous pouvez le constater, l'ordinateur est mis en place pour obtenir une adresse IP Automatiquement, puisque l'option "Obtenir une adresse IP automatiquement" est choisie. Dans ce cas, pour obtenir une adresse IP, l'ordinateur enverra une requête en Broadcast pour une adresse IP sur le réseau, et le DHCP recevant alors la requête, attribuera une adresse IP à partir de son parc disponible et la délivrer à l'ordinateur. Une fois cela effectué, il est possible de vérifier les différents paramètres que le serveur DHCP a fourni à la machine. Pour cela, il suffit d'ouvrir un terminal et d'exécuter la commande ipconfig /all sous windows, et ifconfig -a sous Linux ou MacOS. On peut constater que l'adressage d'IP dynamique est le meilleur choix, puisqu'il est automatique et rend le management d'un réseau bien plus facile.

	Un serveur DHCP attribue des adresses IP aux machines d'un réseau qui sont dans son champ d'action, ou scope. Le scope est une plage d'adresses IP que le serveur DHCP peut distribuer. Si l'on prend l'exemple suivant, on peut constater que la plage commence par l'adresse IP en 10.0.0.1 et se termine par l'adresse IP en 10.0.0.50. Ainsi, les appareils de ce réseau vont pouvoir se voir attribuer une adresse IP à partir de ce groupe de 50 adresse IP. Les valeurs peuvent etre personnalisées pour soit diminuer ou augmenter la plage et cela dépendra surtout de ce que l'administrateur réseau veut faire réseau.
	Lorsqu'un ordinateur obtient une adresse IP à partir d'un serveur DHCP, celui-ci lui en attribue une comme un bail ou une location qu'on appelle le lease. De ce fait, un ordinateur n'est en réalité pas propriétaire de cette adresse IP à proprement parler. Ce lease s'appuie en réalité sur le nombre de fois qu'une adresse IP est attribuée à une machine et est de durée variable ; Il pourrait etre d'un jour seulement par exemple. La raison pour laquelle le lease est important, est qu'il permet de s'assurer que le serveur DHCP n'arrive pas à court d'adresses IP.
	A titre de démonstration, nous allons considérer que le champ du DHCP dont on dispose ne possède qu'une plage de 3 adresses IP ; Le serveur DHCP peut dont distribuer seulement 3 adresses IP. A noter que l'exemple ci ne reflète pas la réalité d'un réseau puisqu'il n'y aurait aucun intérêt à créer un réseau avec un champ aussi réduit. A partir de là, nous ajouterons 3 ordinateurs, indiqués A, B et C, sur ce réseau et dès lors qu'ils seront bien ajoutés, le serveur DHCP attribuer à chacun une adresse IP. Pour cet exemple-ci, nous considèrerons que les adresses IP sont en réalités données et non louée. Le DHCP a donc, par l'attribution des trois adresses IP qu'il avait en réserve, atteint sa limite. Dans le cas où la machine C venait à etre retirée du réseau, comme l'adresse IP est considérée comme propriétaire pour lui, un ordinateur D ne pourrait pas se connecter au réseau, étant donné que le DHCP est arrivé à court d'adresses. Même si l'ordinateur C n'est plus connecté au réseau, il occupe toujours l'adresse IP qu'on lui a précédemment attribuée alors que celle-ci pourrait etre utilisée par une autre machine. C'est précisément la raison pour laquelle les adresses IP sont allouées et non données. Dans notre exemple, si les adresses IP étaient considérées comme lease, elles pourraient informer au serveur DHCP quelles adresses sont toujours en usage et lesquelles ne le sont pas.
	Si l'on reprend l'exemple précédent, mais que les adresses IP sont indiquées comme allouables, après un certain temps, chacun des ordinateurs va envoyer une requête pour renouveler leur période de bail. En d'autres termes, cela informe au DHCP que les machines auxquelles les adresses IP sont attribuées sont toujours présentes sur le réseau et que leurs adresses sont toujours utilisées. De ce fait, si un ordinateur est retiré du réseau, étant donné qu'il ne peut pas renouveler son bail, celui-ci va expirer et le serveur DHCP va récupérer l'adresse IP associée à ce bail. Dès lors, l'adresse IP pourra etre utilisée par un autre ordinateur.

	Toutefois, si vous vouliez qu'un ordinateur ou un appareil de votre réseau possède une adresse IP spécifique en continu, c'est-à-dire faire en sorte que l'adresse IP ne change jamais, il faudrait créer une réservation sur le serveur DHCP. La réservation s'assure qu'un appareil spécifique identifié par son adresse MAC se verra attribuer toujours la même adresse IP lorsque celui-ci réalisera une requête auprès du DHCP. Par exemple, sur le serveur DHCP suivant, si l'on crée une réservation pour sa machine, le serveur DHCP reconnaitra son adresse MAC et lui attribuera une adresse IP spécifique.
	Les réservations ne sont toutefois pas typiquement données à des ordinateurs, elles sont proposées pour des appareils spéciaux ou des ordinateurs comme des imprimantes réseau, des serveurs, des routeurs, ou d'autres puisqu'ils doivent constamment recevoir les même adresses IP.

	Enfin, le DHCP est un service qu'un serveur fait tourner et pourrait etre sous Windows ou Linux. Il s'agit surtout d'un service qui tourne sur beaucoup de routeurs ; Que celui-ci soit pour un commerce, un bureau de petite envergure, ou un bureau personnel. Ces routeurs embarqueront déjà un service de DHCP à l'intérieur.