QU'EST CE QUE LE PORT FORWARDING?

	Le transfert de ports, ou port forwarding, permettent à un ordinateur sur internet d'accéder à une machine spécifique ou un service dans un réseau privé. Grossièrement, il faut en sorte de rendre votre ordinateur accessible sur internet, même derrière un routeur. Considérons qu'un de vos amis de chez eux cherchent à prendre contrôle à distance de votre ordinateur dans votre habitation en se servant d'un service comme un RDC, pour Remote Desktop Connection. Ce dernier est un service embarqué par défaut sous Windows qui permet de se connecter à une autre machine qui fonction également sous Windows. Une fois connecté à distance au poste, vous pourriez accéder aux programmes et fichiers tout comme si vous étiez physiquement devant l'ordinateur. Pour débuter la session de contrôle à distance, votre ami démarre le RDC sur sa machine et envoie une requête à votre adresse IP publique accompagné d'un numéro de port spécifique.
		<ILLUSTRATION>
Le port n'est pas une connexion physique dans ce cas, mais une connexion logique qui utilise un programme et des services pour échanger des informations ; Et ils identifient de manière unique les programmes et services qui tournent sur votre ordinateur. Dans le cas de notre exemple, le Remote Desktop Connection utilise le port 3389. Ainsi, la requête avec ce numéro de port particulier va traverser internet jusqu'à atteindre votre routeur, qui va avoir besoin de savoir vers où transférer la requête pour le port 3389. En effet, sans transfert de port configuré, votre ami ne pourra pas etre en mesure de se connecter à votre ordinateur, puisque le routeur n'a aucune idée de quoi faire avec la requête qu'il reçoit. C'est alors que le transfert de port, ou port forwarding, entre en jeu : nous allons pouvoir demander à notre routeur d'envoyer ou de transférer toute requête accompagnée du port 3389 et envoyer une requête à notre ordinateur. Pour ce faire, nous allons nous connecter à la page de configuration du routeur en entrant l'adresse IP interne dans un navigateur. Dans le cas où vous n'auriez aucune idée de quelle est votre adresse IP, il vous suffit d'ouvrir un terminal et d'exécuter la commande ifconfig sous Linux ou MacOS, ou bien ipconfig sous Windows. L'adresse qui vous intéresse dans ces cas précis est celle du Default Gateway, ou passerelle par défaut, puisqu'elle correspond à l'adresse IP interne de votre routeur. Il est aussi important de savoir quelle est l'adresse IP de votre ordinateur, que vous pouvez more en sortie de la commande exécutée juste précédemment, puisque vous aurez besoin de l'indiquer sur la page de configuration de transfert de port.
	Ainsi, dans un navigateur, nous allons entrer l'adresse IP du routeur, et à partir de là nous allons pouvoir accéder à la page de configuration de celui-ci. En fonction du routeur que vous utilisez et de sa marque, la page de configuration sera différente. A titre d'exemple, voilà à quoi ressemblerait une page de configuration proposée par un routeur Cisco, et une autre proposée par un routeur TP-Link.
		<EXEMPLE PAGES CONFIGURATION>
	En fonction de chaque marque et de la page web de configuration, il faudra dans tous les cas se rentre dans la rubrique de transfert de ports et en configurer un.
		<EXEMPLE PAGE CONFIGURATION RDC>
Une fois sur la page de configuration, nous pouvons juste attribuer le nom de notre application pour la reconnaitre plus facilement dans la liste, et transférer le port de connexion à distance à l'ordinateur, c'est-à-dire le port 3389. A partir de là, il faut le faire pointer vers l'adresse IP de l'ordinateur auquel vous voulez que votre ami puisse accéder - soit dans le cas de notre exemple, 192.168.1.2. Une fois cela effectué, il suffit d'enregistrer les modifications dans les paramètres et la configuration est terminée. Dès lors, lorsque votre ami va envoyer une requête accompagnée du port 3389, le routeur va savoir vers quel endroit il doit le transférer et va permettre à la connexion d'être résolue. 

	Si le principe de transfert de ports vous est toujours étranger, nous allons passer par l'analogie suivante : On dispose d'un poste téléphonique fixe présentant un panneau de contrôle électronique qui pourrait etre typiquement utilisé en entreprise. Lorsqu'une personne va chercher passer un appel à celle-ci, et qu'elle souhaite contacter spécifiquement le service des ventes, elle va entrer le numéro de téléphone de l'entreprise et rajouter une extension qui précise qu'il s'agit du département des ventes.
	Par exemple : 0472723030x4
Lorsque l'appel va arriver au standard, le téléphone va répondre à l'appel et consulter le numéro d'extension avec d'envoyer ou transférer l'appel vers le numéro du département correspondant. 
	Admettons désormais qu'une autre personne souhaite contacter l'entreprise et parler au service de support. Comme pour l'exemple précédent, l'appel va arriver au niveau du standard et etre reçu par le téléphone ; A cette étape, le numéro de téléphone aura rempli sa mission qui était d'envoyer l'appel vers la bonne entreprise depuis l'extérieur donc la seule information nécessaire dès lors est l'extension. Le téléphone va rediriger l'appel au service de support puisqu'il correspond bien au numéro d'extension en question.

	Dans un réseau, le principe de transfert de ports fonctionne d'une manière similaire puisque le routeur est contacté avec une adresse IP accompagnée d'un numéro de port. Une fois reçue, le routeur va inspecter le numéro de port et transférer la requête à l'adresse IP interne pour laquelle le port a été configuré. Lorsqu'une autre requête depuis internet arrive dans le réseau visé et qu'il atteint le routeur, l'adresse IP aura fait son travail ; En effet, le réseau a bien été localisé et la requête est bien arrivée à destination depuis internet. Ainsi, comme l'adresse IP a rempli sa mission, elle n'est plus nécessaire et le routeur va s'intéresser au port qui accompagnait l'adresse IP. En s'appuyant sur la configuration de transfert de ports, il va pouvoir transférer la requête à l'ordinateur portant l'adresse IP pour laquelle le numéro de port a été configuré. 
	Ainsi, dans un réseau, l'adresse IP est comparable à un numéro de téléphone, et le numéro de port à une extension. Le routeur fait référence au téléphone et les ordinateurs au sein de ce même réseau représentent les différents départements d'une entreprise.

	Les ports sont systématiquement associé à une adresse IP et sont identifiés par un nombre unique. De ce fait, peu importe si l'on peut observer un numéro de port ou pas, il est toujours associé à une adresse IP, étant donné qu'elles ont toujours une mission prédéfinie. Le numéro de port permet alors de déterminer cette mission, que ce soit pour faire apparaitre une page web, utiliser un service FTP ou encore un service de contrôle à distance. De plus, les ports ne sont pas seulement associé à des adresses IP, mais elle sera toujours associé à une application ou un processus, comme le FTP, les pages web, les services de messagerie électronique, etc. La portée de valeurs qu'un port peut prendre se situe entre 0 et 65535. Toutefois, parmi ces 65000 ports, certains d'entre deux sont plus communs que d'autres et utilisés au quotidien. A titre d'exemple, on peut citer le port 80, utilisé pour le protocole HTTP et les pages web, les ports 20 et 21 pour les FTP, pour File Transfert Protocol, ou encore le port 443 utilisé pour le protocole HTTPS et récupérer les pages web sécurités. Ils ne s'agit cependant que de quelques exemples et il existe en réalité une catégorie privilégie pour les ports les plus connus, ou well-known ports, et qui se trouvent dans une plage de valeurs comprises entre 0 et 1023.