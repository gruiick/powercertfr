LE FONCTIONNEMENT LE L'IPCONFIG ET VIDANGE DE CACHE DNS

	ipconfig est une ligne de commande qui permet d'afficher la configuration TCP/IP d'un réseau our des adaptateurs réseau sur une machine sous Windows. Parmi les informations qu'elle affiche vous pouvez trouver votre adresse IP, le masque de sous-réseau et le Default Gateway. Elle peut également être utilisée pour diagnostiquer beaucoup de problèmes en lien avec le réseau.
	Afin d'illustrer de fonctionnement de la commande, prenons un exemple de ce à quoi pourrait ressembler son exécution : Dans un terminal, on entre la commande ipconfig puis on appuie sur "Entrer". En sortie, la console nous affiche les informations basiques de la configuration réseau de la machine sur laquelle on a effectué la commande. Au niveau de la ligne renseignant l'adresse IPv4, on constate qu'il s'agit d'une adresse privée qui nous a été attribuée par le serveur DHCP dont on dépend et dont le service est intégré à notre routeur ou notre combinaison modem/routeur. A la ligne du dessous, on peut observer le masque de sous-réseau, qui permet de définir quelle partie de l'adresse IP correspond au réseau et laquelle correspond à l'hôte. Enfin, en quatrième et dernière ligne d'informations, on trouve l'adresse IP de notre passerelle par défaut, ou Default Gateway, c'est-à-dire celle de notre habitation ou de notre bureau, auquel notre machine se connecte. La passerelle par défaut constitue ce qui nous donne accès à d'autres réseaux, y compris internet puisqu'il s'agit d'un ensemble de réseaux. Toutefois, si l'on se penche sur le terminal, on constate que notre ordinateur s'est vu attribuer une autre adresse IP, mais une de version 6. Le fait que notre machine dispose de deux adresses IP, une IPv4 et une IPv6, est ce que l'on appelle le dual stack. L'intérêt du Dual Stack est réside seulement dans des objectifs de compatibilité, étant donné que de nos jours internet se trouve au milieu d'une migration depuis l'IPv4 vers l'IPv6. La raison pour laquelle il en est ainsi s'explique par le fait que les adresses IPv4 publiques soient limitées et que l'on en arrive à court. C'est pour remédier à ce problème que l'IPv6 a été développée. Ainsi, disposer d'une connectivité Dual Stack permet à votre fournisseur  de traiter à la fois des IPv4 et des IPv6 afin de n'avoir aucun problème de comptabilité lorsque l'on accède à des sites web et des serveurs durant la migration.
	Pour clarifier les choses, il faut quand même préciser que l'adresse IPv4 qui apparait en sortie d'exécution de l'ipconfig ne constitue pas une adresse IP publique pour lesquelles nous somme en train d'en manquer. Il s'agit en réalité d'une adresse privée utilisée pour un réseau privée et c'est l'adresse IP publique externe que notre fournisseur internet nous attribuera. Par ailleurs, si vous vous rendez sur le site whatsmyipadresse.com, vous pourrez voir à la fois votre adresse IPv6 et votre IPv4 externe qui vous ont été attribuées. Si votre ordinateur est directement connecté à internet par le biais d'un modem simple, ce qui est rare de nos jours, vous pourriez apercevoir votre adresse IPv4 publique externe en sortie de l'exécution d'ipconfig. Toutefois, de nos jours, la majorité des personnes disposent d'un routeur ou un modem/routeur qui va attribuer à votre appareil une adresse IP privée.

	La commande ipconfig également peut être combinée avec des sous-commandes appelées switches qui vous permettront de disposer de plus d'options en output. Par exemple, si l'on exécute la commande ipconfig /all, la console affichera bien plus d'informations que les simples basiques. En réalité, la commande ipconfig /all permet de présenter l'ensemble de la configuration TCP/IP de vos adaptateurs réseau sur votre ordinateur. De ce fait, en plus d'afficher nos adresses IP, masques de sous-réseau et passerelle par défaut, elle nous indique d'autre informations comme le nom d'hôte, c'est-à-dire le nom donné à notre ordinateur. On peut également y lire l'adresse MAC de notre interface réseau, soit un identifiant unique propre à chaque carte réseau ; Mais on peut également voir le fait que le DHCP est activé, ce qui signifie que notre adresse IP nous a été attribuée par un serveur DHCP par le biais de notre routeur, qui s'avère être la même que celle du routeur en question. L'output d'ipconfig /all nous indique en plus de cela la date et l'heure auxquelles nous avons obtenu le bail de notre adresse IP, ainsi que son expiration. Enfin, on peut y lire l'adresse IP que le serveur DNS que notre ordinateur utilise.

	Un autre switch que l'on peut citer concernant la commande ipconfig est ipconfig /flushdns, qui désigne un outil dont la mission est de vidanger et nettoyer le cache du résolveur DNS. Le DNS, ou Domain Name System, est employé pour traduire les noms de domaines en adresses IP. Ainsi, c'est ce qui permet de transformer un nom de domaine comme google.com en son adresse IP associée, soit 8.8.8.8. Sa fonction est primordiale puisque les ordinateurs ne comprennent pas les informations qui ne sont pas sous forme de nombres, ce qui est bien le cas d'une adresse IP. Ainsi, afin de bien pouvoir récupérer la page web associée à google.com, il faut nécessairement que cette adresse soit traduite. Les systèmes d'exploitation gardent en cache ou un historique des résolutions de noms de domaine associées à leur adresse IP respective pendant une certaine durée. L'intérêt principal du cache est de rendre la navigation web plus rapide. En effet, lorsque vous souhaitez visiter un site web comme youtube.com, votre ordinateur n'aura pas besoin de systématiquement s'adresser à un DNS externe pour résoudre le nom de domaine en une adresse IP ; Il pourra simplement se tourner vers son cache DNS interne, ce qui est bien plus rapide. De ce fait, au lieu que la récupération de la page web prenne plusieurs secondes le temps de s'adresser au DNS et qu'il fournisse l'adresse, cela ne prendrait que quelques millisecondes. De plus, cela permet également de libérer le serveur DNS du fait d'etre constamment bombardé avec des DNS lookups, ou des requêtes DNS.
	Malgré le fait que le "caching" d'adresses web soit une bonne chose, il y a des cas pour lesquels il faudrait vidanger le cache DNS. Une des raisons qui pourraient amener à vider le cache est si vous présentez des problèmes pour accéder à certains sites web. Si par exemple l'adresse IP de youtube.com venait à changer, et que le cache DNS associe toujours le nom de domaine à l'ancienne adresse IP, alors vous ne serez en mesure d'accéder au site. Dès lors, par la vidange du cache, votre ordinateur constatera qu'il n'a plus en mémoire la résolution du nom de domaine ; Il va de ce fait réaliser une requête auprès du serveur DNS pour qu'il le résolve et à partir de là, l'ordinateur aura en cache la bonne adresse IP associée au nom de domaine en question.
	Le DNS Flushing permet également d'aider à prévenir des problèmes relatifs à la sécurité comme le DNS Spoofing. Celui-ci correspond à lorsque des hackers ou des malwares altèrent et modifient le cache DNS afin de vous rediriger des des sites frauduleux ; Ils peuvent alors utiliser cette tactique pour voler des données sensibles. Ainsi, dans des cas de figures où vous suspectez que votre cache a été altéré par malveillance, il serait alors primordial pour la sécurité de l'appareil et des données qu'il comporte de le vidanger.
	Un dernier avantage du DNS Flushing est qu'il permet de dissimuler vos habitudes de recherches et les sites que vous consultez.

	Pour être en mesure d'apercevoir ce qui est bien stocké dans votre cache DNS, vous pouvez simplement exécuter dans un terminal la commande ipconfig /displaydns. Celle-ci permettra alors d'afficher le contenu de votre cache DNS sur votre ordinateur. En temps normal, l'output de la commande montre un tas d'actives, mais dans l'exemple suivant, on va uniquement en indiquer un seul. 
		<DNS RECORD>
L'archive DNS que l'on peut voir ci-dessus correspond à celle de youtube.com. Parmi les informations qui apparaissent, on peut distinguer le TTL, ou Time To Live, qui correspond à un nombre limitant l'espérance de vie de l'archive. Le TTL va donc se comporter comme un compte à rebours qui, lorsqu'il atteint 0, va provoquer l'effacement de l'archive. L'adresse IP de youtube.com est également affichée en output de la commande ipconfig /displaydns.

	Dans le cas où vous voudriez vider le cache DNS, comme précisé précédemment, il vous suffirait d'exécuter la commande ipconfig /flushdns. Dès lors, en exécutant de nouveau la commande ipconfig /displaydns, la console nous indiquerait "Cloud not display une DNS Resolver Cache", ce qui nous confirmera bien que le cache a été vidé.

	Les switches /all, /flushdns et /displaydns constituent seulement quelques sous-commandes pouvant être utilisées avec ipconfig. Toutefois, si vous souhaitez connaitre l'ensemble des switches disponibles, vous pouvez simplement exécuter la commande man ipconfig, (ou ipconfig /?), ce qui vous affichera le manuel d'utilisation de chaque sous-commande et leur utilité.