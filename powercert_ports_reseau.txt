PORTS RÉSEAU

	Un port réseau n'est pas une connexion physique, il s'agit d'une connexion logique utilisés par des programmes et par des services pour échanger de l'information. Il va permettre de déterminer quel programme ou service un ordinateur ou un serveur sera utilisé, comme accéder à une page web, utiliser ou accéder à un serveur FTP, ou encore ouvrir un email. Les ports vont être désignés par des nombres uniques compris entre 0 et 65535 permettant de les identifier. A titre d'exemple, les ports les plus communément utilisés sont les ports 80 et 443 concernant les pages web, respectivement pour les protocoles HTTP et HTTPS, le port 21 utilisé pour du FTP, et le port 25 utilisé pour les email et qui correspond au protocole SMTP. Un numéro de port est systématiquement associé à une adresse IP, qui rappelons-le, est une adresse numérique et un identificateur pour un appareil. Une adresse IP et un numéro de port travaillent ensemble pour échanger des données sur un réseau
		Adresse IP		Port
		66.94.34.13		:21
		12.34.56.78		:25
		75.12.212.44		:80
		43.14.250.12		:443

Le rôle de l'adresse IP est de déterminer la localisation, géographique donc, du serveur auquel l'ordinateur qui la porte cherche à se connecter, c'est-à-dire le continent, le pays, la ville, etc. Le numéro de port en revanche va, comme précisé précédemment, avoir pour mission de déterminer quel service ou programme sur le serveur en question la machine qui s'y connecte cherche à utiliser.

	Mais en simplifié, qu'est-ce que cela signifie? Pour mieux comprendre le fonctionnement d'un port, prenons l'exemple du port 443, qui est utilisé par presque tout le monde et quotidiennement. Il est associé avec le protocole HTTPS, ou HyperText Transfer Protocol Secure, utilisé pour récupérer des pages web. A partir du moment où un utilisateur va chercher à se connecter à une page web, il va en premier temps entrer l'URL, ou Uniforme Resource Locator, admettons ici https://www.google.com. Dès lors, cette adresse sera traduite en l'adresse IP associée par le biais du DHCP. Puisque le navigateur utilise le protocole HTTPS, l'ordinateur va ajouter :443, soit le numéro qui désigne le protocole en question, à l'arrière de l'adresse IP. Celle-ci va permettre de localiser le serveur de google pour s'y connecter et une fois trouvé, l'adresse IP aura terminé sa part de travail, ce sera donc au tour du numéro de port. Le serveur de google va voir arriver une requête entrante rattachée au port 443, il va donc la transférer au serveur web pour que l'utilisateur puisse enfin accéder au site de google.
	L'ensemble de ce processus est réalisé en coulisse, il n'est donc pas possible en temps normal de voir l'adresse IP et le numéro de port lors d'une recherche web. Toutefois il est possible de pouvoir avoir un aperçu en exécutant la commande netstat. En effet, la ligne de commande netstat, compression de "Network Statistics" permet d'afficher les connexions réseau en cours et l'activé des ports de la machine sur laquelle elle est exécutée. Son existence est généralisée sur la majorité des systèmes d'exploitation mais dans le cadre de l'exemple suivant, elle sera exécutée sous Windows. Ainsi, en exécutant la commande netstat avec la sous-commande -n pour afficher précisément les numéros de ports. Vous pourrez apercevoir en sortie que la connexion vers google.com a bien été établie, mais également l'adresse locale de votre ordinateur accompagnée du numéro de port que celui-ci s'est attribué lui même pour la session. L'adresse étrangère, ou foreign Address, correspond à celle de google.com accompagnée du numéro de port :443.
	Admettons désormais que sur le même serveur, Google fait également tourner un service FTP sur lequel des clients peuvent transférer des fichiers. Le FTP, pour File Transfer Protocol, désigne un protocole utilisé afin de transférer des fichiers entre des ordinateurs et des serveurs sur un réseau et qui utilise le port 21. Nous allons donc pouvoir ouvrir une page de notre navigateur et entrer par exemple dans l'URL ftp.google.com. Dès lors, nous pourrons apercevoir le même déroulement d'évènements que précédemment : le nom de domaine de google.com sera converti en l'adresse IP de Google, et puisque l'on utilise le FTP, notre ordinateur ajoutera de lui même le port 21 à l'adresse IP. Une fois que le serveur de Google aperçoit la requête entrante avec le numéro de port en question, il va la transférer à son service FTP intégré. En re-exécutant la commande netstat -n dans un terminal, on pourra remarquer dès lors qu'une nouvelle connexion établie est apparue et décrit bien cette qui vient de s'opérer.

	Comme précisé précédemment, les numéros de port peuvent prendre n'importe quelle valeur allant de 0 à 65535 et sont attribués par l'IADA, acronyme pour Internet Assigned Numbers Authority.  Les 65535 numéros de ports sont répartis en 3 catégories : de 0 à 1023 désigneront les ports système ou well-known ; Il s'agit de ceux qui seront les plus couraments utilisés par des utilisateurs. De 1024 à 49131 correspondent aux ports utilisateurs ou registered (enregistrés), qui peuvent être enregistrés par des compagnies ou des développeurs pour un service particulier. On trouvera par exemple le port 1102 pour les serveurs Adobe, 1433 pour les serveurs Microsoft SQL, 1416 pour Novell et 1527 pour Oracle. Enfin, les numéros de ports allant de 19152 à 65535 désignent les ports dynamiques ou privates (privés) : il s'agit de ports clients pouvant être utilisés gratuitement et à souhait et que l'ordinateur d'un utilisateur s'attribue temporairement lui-même dans le cadre d'une session - lorsqu'un utilisateur consulte une page web par exemple.
	Des trois catégories, les deux premières, c'est-à-dire les numéros de ports well-known et registred, sont utilisés sur un serveur. En d'autres termes, ce sont ceux utilisés sur un serveur auquel une machine se connecte. La troisième catégorie en revanche, soit les numéros de ports dynamiques ou privates, sont utilisés par le client. Ainsi, chaque fois qu'une machine souhaitera utiliser un service ou un programme sur un autre ordinateur ou un serveur, il s'attribuera un de ces ports.

	Il pourrait toutefois arriver que vous aperceviez des numéros de ports well-known utilisés sur votre ordinateur, comme les ports 21 ou 443, et dont la connexion sera soit à l'état d'écoute, soit établie. Comme précisé précédemment, ces numéros de ports sont utilisés sur des serveurs et non des clients. Cependant, il faut savoir que les serveurs ne constituent pas nécessairement des grosses machines puissances puisque votre ordinateur peut également servir de serveur afin que d'autres appareils puissent s'y connecter. De ce fait, si vous faites tourner un service FTP ou un site web sur votre ordinateur par exemple, vous verrez les précédents ports 21 et 443 pour lesquels la connexion est établie ou en écoute. Ils seront alors listés en sortie de l'exécution de la ligne de commande netstat -an dans un terminal.